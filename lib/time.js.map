{"version":3,"sources":["../src/time.js"],"names":["PARSE","FORMAT_DEFAULT","FORMAT_PARSE","parseCF","c","Date","NaN","undefined","reg","String","match","appendZero","z","Time","dateObj","init","y","getFullYear","m","getMonth","d","getDate","w","getDay","h","getHours","hm","getMinutes","hms","getSeconds","hmss","getMilliseconds","Math","floor","valueOf","getTime","str","replace","ma","toString"],"mappings":"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","file":"time.js","sourcesContent":["const PARSE = /^(\\d{4})-?(\\d{2})-?(\\d{1,2})$/\nconst FORMAT_DEFAULT = 'YYYY-MM-DD hh:mm:ss'\nconst FORMAT_PARSE = /Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}/g\n\nfunction parseCF(c){\n  if (c === null){\n    return new Date(NaN);\n  }\n  if (c === undefined){\n    return new Date();\n  }\n  if (c instanceof Date){\n    return c;\n  }\n  const reg = String(c).match(PARSE)\n  if (reg){\n    return new Date(reg[1], reg[2] - 1, reg[3]);\n  }\n  return new Date(c);\n}\n\nfunction appendZero(z){\n  return z < 10 ? '0' + z : String(z);\n}\n\nclass Time{\n  constructor(c){\n    this.dateObj = parseCF(c);\n    this.init();\n  }\n\n  init(){\n    this.y = this.dateObj.getFullYear();  //年\n    this.m = this.dateObj.getMonth() + 1; //月\n    this.d = this.dateObj.getDate(); // 日\n    this.w = this.dateObj.getDay(); // 星期几\n    this.h = this.dateObj.getHours(); //小时\n    this.hm = this.dateObj.getMinutes(); // 分\n    this.hms = this.dateObj.getSeconds(); // 秒\n    this.hmss = this.dateObj.getMilliseconds(); //毫秒\n  }\n\n  year(){\n    return this.y;\n  }\n\n  month(){\n    return this.m;\n  }\n\n  day(){\n    return this.d;\n  }\n\n  dayOfTheWeek(){\n    return this.w;\n  }\n\n  hour(){\n    return this.h;\n  }\n\n  miunte(){\n    return this.hm;\n  }\n\n  second(){\n    return this.hms;\n  }\n\n  milliSecond(){\n    return this.hmss;\n  }\n\n  unix(){\n    return Math.floor(this.valueOf() / 1000);\n  }\n\n  valueOf(){\n    return this.dateObj.getTime();\n  }\n\n  format(str){\n    str = str || FORMAT_DEFAULT;\n    return str.replace(FORMAT_PARSE, (ma) => {\n      switch(ma){\n        case 'YYYY':\n          return String(this.y);\n        case 'MM':\n          return appendZero(this.m);\n        case 'DD':\n          return appendZero(this.d);\n        case 'hh':\n          return appendZero(this.h);\n        case 'mm':\n          return appendZero(this.hm);\n        case 'ss':\n          return appendZero(this.hms);\n        case 'a':\n          return this.h < 12 ? 'am' : 'pm';\n        case 'A':\n          return this.h < 12 ? 'AM' : 'PM';\n        default:\n          return this.dateObj.toString();\n      }\n    });\n  }\n}\n\nexport default Time;"]}